:root{
  --font-title: "GmarketSans", "NanumSquareRound", "Noto Sans KR", system-ui, sans-serif;
  --font-body: "NanumSquareRound", "GmarketSans", "Noto Sans KR", system-ui, sans-serif;

  --bg:#f7f8fb;
  --text:#101828;
  --muted:#667085;
  --muted-2:#98a2b3;

  --card:#ffffff;
  --border:#e6e8ee;

  --primary:#2f6fff;
  --primary-dark:#2557cc;

  --red:#e11d48;
  --purple:#6d28d9;

  --error:#d92d20;
  --error-bg:#fff5f5;

  --radius:14px;
  --radius-sm:10px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family: var(--font-body);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  letter-spacing:-0.01em;
}

.app{max-width:1200px;margin:0 auto;padding:16px}

/* 헤더 */
.page-header{ text-align:center; margin:8px 0 18px; }
.page-header h1{
  margin:0 0 6px;
  font-family: var(--font-title);
  font-weight:900;
  font-size: clamp(1.6rem, 1.2rem + 1.4vw, 2.2rem);
}
.page-header .description{ color:var(--muted); font-size:.98rem; }
.is-bold{ font-weight:900; }

/* 검증 요약 */
.validation-summary{
  display:none;
  background:var(--error-bg);
  color:var(--error);
  border:1px solid #ffd1d1;
  border-radius:var(--radius-sm);
  padding:10px 12px;
  margin:8px 0 12px;
  font-weight:800;
}
.validation-summary.show{display:block}

/* 레이아웃 */
.layout{
  display:grid;
  grid-template-columns: 1fr 1.25fr;
  gap:16px;
}
.panel{ display:flex; flex-direction:column; gap:16px; }

/* 카드: 심플 */
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:16px;
  box-shadow:none;
}

/* 말풍선 스타일 타이틀 */
.bubble-title{
  position:relative;
  display:inline-block;
  padding:6px 12px;
  border-radius:999px;
  background:#eef4ff;
  color:#0a3ea8;
  border:1px solid #d9e6ff;
  font-family: var(--font-title);
  font-weight:900;
  margin:0 0 10px;
}
.bubble-title::after{
  content:"";
  position:absolute;
  left:22px;
  bottom:-7px;
  width:0; height:0;
  border-left:7px solid transparent;
  border-right:7px solid transparent;
  border-top:7px solid #d9e6ff; /* 테두리 */
}
.bubble-title::before{
  content:"";
  position:absolute;
  left:22px;
  bottom:-6px;
  width:0; height:0;
  border-left:6px solid transparent;
  border-right:6px solid transparent;
  border-top:6px solid #eef4ff; /* 내부 색 */
}

/* 입력 폼 */
.input-group{
  display:flex; flex-direction:column; gap:8px; margin-bottom:10px;
}
.input-group label{
  font-weight:800; color:#344054; font-size:.96rem; font-family: var(--font-title);
}
.input-group input[type="number"]{
  padding:12px 12px;
  border:1px solid #d0d5dd;
  border-radius:12px;
  font-size:1rem;
  background:#fff;
  -webkit-appearance:none;
  -moz-appearance:textfield;
}
.input-group input[type="number"]::-webkit-outer-spin-button,
.input-group input[type="number"]::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0; }
.input-group input[type="number"]:focus{
  outline:none; border-color:var(--primary);
  box-shadow:0 0 0 2px rgba(47,111,255,.22);
}
.input-group .input-hint{ color:var(--muted-2); font-size:.84rem; }
.input-group .error-message{ min-height:1em; color:var(--error); font-size:.88rem; font-weight:800; }
.input-group.invalid input{ border-color:var(--error); background: var(--error-bg); }

.subject-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap:10px;
}
.subject .subject-title{
  font-weight:900; color:#2f6fff; margin-bottom:2px; font-family: var(--font-title);
}

/* 버튼 */
.actions{ display:flex; gap:10px; justify-content:flex-start; }
button{
  border:none; border-radius:999px; cursor:pointer; touch-action:manipulation;
  font-weight:900; font-size:.98rem; padding:12px 18px; transition:.15s ease;
  font-family: var(--font-title);
}
button.primary{ background:var(--primary); color:#fff; }
button.primary:hover{ background:var(--primary-dark); transform: translateY(-1px); }
button.secondary{ background:#f3f4f6; color:#111827; border:1px solid #e5e7eb; }
button.secondary:hover{ background:#edeff3; }

/* 결과 */
.result-grid{
  display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap:10px;
}
.grade-result-item{
  background:#fafafa; border:1px solid #ececec; border-radius:12px; padding:12px;
}
.grade-result-item .item-head{ margin-bottom:6px; font-weight:900; font-family: var(--font-title); }
.grade-result-item .item-body{ color:#111827; line-height:1.55; font-size:.96rem; }

/* 배지 */
.pill{
  display:inline-block; padding:3px 12px; border-radius:999px;
  font-weight:900; font-size:.93em; vertical-align:middle;
}
.pill-blue{ background:#eef4ff; color:#0a3ea8; border:1px solid #d9e6ff; }
.pill-red{ background:#ffe9ec; color:#a30e1a; border:1px solid #ffd2d8; }
.pill-purple{ background:#f2eaff; color:#5b21b6; border:1px solid #e2d6ff; }
.pill.big{ font-size:1.08em; padding:5px 14px; }

/* 종합 */
.overall-grid{
  display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap:10px; margin-top:8px;
}
.overall-item{
  background:#fff; border:1px solid #ececec; border-radius:12px; padding:12px;
}
.overall-title{ color:#475467; font-weight:900; margin-bottom:4px; font-family: var(--font-title);}
.overall-value{ font-size:1.04rem; font-weight:900; color:#111827; }

/* 피라미드 */
.pyramid-block{ margin-top:14px; }
.percentile-text{ color:#0f172a; font-weight:900; font-family: var(--font-title); }
.pyramid-container{
  width:100%; height:260px;
  border:1px solid #ececec; border-radius:14px; background:#fff;
  display:flex; align-items:center; justify-content:center; overflow:hidden;
}

/* 준비중 카드 */
.muted-card{ background:#fcfcfd; color:#98a2b3; border-style:dashed; }

/* 반응형 */
@media (max-width: 860px){
  .layout{ grid-template-columns: 1fr; }
}